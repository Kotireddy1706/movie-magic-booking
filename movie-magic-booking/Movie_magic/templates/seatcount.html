<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>How Many Seats? â€“ Movie Magic</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    body {
      background-color: #f2f2f2;
    }
    .nav-bar {
      background-color: #111;
      padding: 0.8rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .nav-bar a {
      color: white;
      text-decoration: none;
      font-weight: bold;
    }
    .nav-bar .nav-actions button {
      margin-left: 0.5rem;
    }
    .seat-icon {
      font-size: 4rem;
      margin: 1rem 0;
    }
    .seat-count button {
      border: none;
      width: 45px;
      height: 45px;
      border-radius: 50%;
      font-weight: bold;
    }
    .seat-count .active {
      background-color: #e50914;
      color: white;
    }
    .seat-count .inactive {
      background-color: #eee;
      color: #333;
    }
    .price-tag {
      font-weight: bold;
      margin-top: 1rem;
    }
    .note {
      color: #e69500;
      font-size: 0.9rem;
    }
    .btn-next {
      background-color: #e50914;
      border: none;
      color: white;
      padding: 0.6rem 1.2rem;
      margin-top: 2rem;
      border-radius: 6px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    .btn-next:hover {
      background-color: #b0060d;
    }
  </style>
</head>
<body>

<!-- Navbar -->
<div class="nav-bar">
  <a href="/">ðŸŽ¬ Movie Magic</a>
  <div class="nav-actions">
    <a href="/" class="btn btn-sm btn-light">Home</a>
    <button class="btn btn-sm btn-outline-light">Login</button>
    <button class="btn btn-sm btn-danger">Sign Up</button>
  </div>
</div>

<!-- Seat Selection -->
<div class="container text-center mt-5">
  <h3>How Many Seats?</h3>
  <div class="seat-icon">ðŸª‘</div>

  <div class="d-flex justify-content-center gap-3 seat-count">
    <button class="inactive" onclick="selectSeat(1)">1</button>
    <button class="active" onclick="selectSeat(2)">2</button>
    <button class="inactive" onclick="selectSeat(3)">3</button>
    <button class="inactive" onclick="selectSeat(4)">4</button>
    <button class="inactive" onclick="selectSeat(5)">5</button>
    <button class="inactive" onclick="selectSeat(6)">6</button>
  </div>

  <hr class="my-4" style="width: 300px; margin: 2rem auto;"/>

  <div class="row justify-content-center text-start" style="max-width: 600px; margin: auto;">
    <div class="col-6">
      <p class="mb-1"><strong>FIRST CLASS</strong></p>
      <p class="price-tag">Rs. 200</p>
      <p class="note">Filling Fast</p>
    </div>
    <div class="col-6">
      <p class="mb-1"><strong>SECOND CLASS</strong></p>
      <p class="price-tag">Rs. 84</p>
      <p class="note">Filling Fast</p>
    </div>
  </div>

  <button class="btn-next" onclick="goToSeatSelection()">Select Seats</button>
</div>

<script>
  let selectedCount = 2;
  const buttons = document.querySelectorAll(".seat-count button");

  function selectSeat(count) {
    selectedCount = count;
    buttons.forEach((btn, i) => {
      btn.className = (i + 1 === count) ? 'active' : 'inactive';
    });
  }

  function goToSeatSelection() {
    const params = new URLSearchParams(window.location.search);
    const movie = params.get("movie");
    const date = params.get("date");
    const time = params.get("time");
    const theatre = params.get("theatre");

    const nextURL = `/seatselection?movie=${encodeURIComponent(movie)}&date=${encodeURIComponent(date)}&time=${encodeURIComponent(time)}&theatre=${encodeURIComponent(theatre)}&count=${selectedCount}`;
    window.location.href = nextURL;
  }
</script>

</body>
</html>
